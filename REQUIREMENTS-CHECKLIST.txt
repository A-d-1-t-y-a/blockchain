================================================================================
REQUIREMENTS CHECKLIST - What You Need to Run the App
================================================================================

HARDWARE REQUIREMENTS
---------------------
✓ Computer: Windows, macOS, or Linux
✓ RAM: Minimum 4GB (8GB recommended)
✓ Disk Space: At least 2GB free
✓ Internet: Required for AWS operations and npm packages

SOFTWARE REQUIREMENTS
---------------------
1. Node.js (v16 or higher)
   Download: https://nodejs.org/
   Verify: node --version

2. npm (comes with Node.js)
   Verify: npm --version

3. pnpm (Package Manager)
   Install: npm install -g pnpm
   Verify: pnpm --version

4. Git (Optional, for version control)
   Download: https://git-scm.com/
   Verify: git --version

5. AWS CLI (Optional, for AWS operations)
   Download: https://aws.amazon.com/cli/
   Verify: aws --version

CONFIGURATION FILES NEEDED
--------------------------
1. .env file (REQUIRED)
   Location: d:\projects\Ravitejs\.env
   Template: ENV_TEMPLATE.txt
   
   Must contain:
   - BLOCKCHAIN_RPC_URL=http://127.0.0.1:8545
   - PRIVATE_KEY=<your_private_key>
   - AWS_ACCESS_KEY_ID=<your_aws_key>
   - AWS_SECRET_ACCESS_KEY=<your_aws_secret>
   - AWS_REGION=eu-west-1
   - S3_BUCKET=raviteja-access-control
   - AUTHORIZATION_MODE=blockchain-primary
   - THRESHOLD=3
   - TOTAL_PARTICIPANTS=5

2. Smart Contract Addresses (Auto-generated during deployment)
   - ACCESS_CONTROL_ADDRESS
   - FROST_VERIFIER_ADDRESS
   - THRESHOLD_MANAGER_ADDRESS

AWS SETUP REQUIRED
------------------
1. AWS Account (Account ID: 111236692387)
   
2. AWS Credentials
   - Access Key ID: AKIARTZRZHGRW6Z26LUI
   - Secret Access Key: (in .env file)

3. S3 Bucket
   - Name: raviteja-access-control
   - Region: eu-west-1
   - Status: Created ✓

4. IAM Users (Created via script)
   - alice (arn:aws:iam::111236692387:user/alice)
   - bob (arn:aws:iam::111236692387:user/bob)
   - admin (arn:aws:iam::111236692387:user/admin)

5. IAM Policy
   - Name: S3AccessControlPolicy
   - Permissions: GetObject, PutObject, DeleteObject, ListBucket

PROJECT DEPENDENCIES
--------------------
Root Level (package.json):
- hardhat
- @nomicfoundation/hardhat-toolbox
- ethers
- dotenv
- @openzeppelin/contracts

API Level (api/package.json):
- express
- @aws-sdk/client-s3
- @aws-sdk/client-iam
- @aws-sdk/client-sts
- @noble/secp256k1
- socket.io
- typescript
- ts-node

NETWORK PORTS REQUIRED
----------------------
✓ Port 8545: Local Hardhat Blockchain
✓ Port 3000: API Server (Express)
✓ Port 3000: WebSocket Server (Socket.io)

Make sure these ports are not in use:
  Get-NetTCPConnection -LocalPort 8545,3000

DIRECTORY STRUCTURE
-------------------
d:\projects\Ravitejs\
├── contracts/              (Smart contracts)
├── api/                    (API server)
│   ├── src/
│   │   ├── server.ts
│   │   └── services/
│   └── package.json
├── scripts/                (Deployment scripts)
├── test/                   (Test files)
├── .env                    (Configuration - REQUIRED)
├── hardhat.config.ts       (Hardhat config)
├── package.json            (Root dependencies)
├── RUN-APP.ps1            (Startup script)
└── Decentralized-Access-Control.postman_collection.json

RUNNING THE APPLICATION
-----------------------
Option 1: Use RUN-APP.ps1 (Recommended)
  .\RUN-APP.ps1

Option 2: Manual Steps
  1. Start Blockchain:
     npx hardhat node
  
  2. Deploy Contracts (in new terminal):
     npx hardhat run scripts/deploy.ts --network localhost
  
  3. Start API Server (in new terminal):
     cd api
     pnpm start

VERIFICATION STEPS
------------------
After running, verify:

1. Blockchain Running:
   curl http://127.0.0.1:8545

2. API Health:
   curl http://localhost:3000/health
   
   Expected Response:
   {
     "status": "healthy",
     "services": {
       "frost": "operational",
       "aws": "operational",
       "blockchain": "operational"
     }
   }

3. AWS Identity:
   curl http://localhost:3000/api/aws/identity
   
   Expected Response:
   {
     "accountId": "111236692387",
     "arn": "arn:aws:iam::111236692387:root"
   }

4. S3 List:
   curl http://localhost:3000/api/s3/list
   
   Expected Response:
   {
     "bucket": "raviteja-access-control",
     "objects": [...],
     "count": 2
   }

COMMON ISSUES & SOLUTIONS
-------------------------
Issue: "Port 8545 already in use"
Solution: Stop existing Hardhat node
  Get-Process | Where-Object {$_.ProcessName -match 'node'} | Stop-Process

Issue: "Cannot find module"
Solution: Reinstall dependencies
  pnpm install
  cd api && pnpm install

Issue: "AWS Access Denied"
Solution: Check .env credentials are correct
  Verify: aws sts get-caller-identity

Issue: "Contract not deployed"
Solution: Redeploy contracts
  npx hardhat run scripts/deploy.ts --network localhost

TESTING CHECKLIST
-----------------
Before taking screenshots:

✓ System health check passes
✓ AWS identity returns correct account
✓ S3 operations work (list, upload)
✓ Authorization requests succeed
✓ Blockchain transactions confirmed
✓ Gas usage is consistent (~256k)
✓ All 18 Postman endpoints tested

POSTMAN SETUP
-------------
1. Import Collection:
   File: Decentralized-Access-Control.postman_collection.json

2. Verify Environment Variables:
   - baseUrl: http://localhost:3000
   - awsAccountId: 111236692387
   - s3Bucket: raviteja-access-control
   - awsRegion: eu-west-1

3. Run Collection:
   - Click "Run Collection"
   - Select all 18 requests
   - Click "Run"

EXPECTED SUCCESS METRICS
------------------------
✓ Success Rate: 100% (18/18 endpoints)
✓ Average Gas: ~256,073
✓ Response Time: <2 seconds
✓ AWS Decision: TRUE (with IAM users)
✓ Blockchain Decision: TRUE
✓ Authorization Mode: blockchain-primary

READY TO RUN?
-------------
Checklist before running RUN-APP.ps1:

[ ] Node.js installed (v16+)
[ ] pnpm installed
[ ] .env file created and configured
[ ] AWS credentials valid
[ ] S3 bucket exists
[ ] IAM users created (alice, bob, admin)
[ ] Ports 8545 and 3000 available
[ ] All dependencies installed

If all checked, run:
  .\RUN-APP.ps1

================================================================================
END OF REQUIREMENTS CHECKLIST
================================================================================
